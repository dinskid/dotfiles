DATA SEGMENT
N DB 22
LOOKUP DB '0','1','2','3','4','5','6','7','8','9','A','B','C','D','E','F'
HEX DB 3 DUP('$')
BINARY DB 33 DUP('$')
GRAY DB 33 DUP('$')
DATA ENDS

CODE SEGMENT
ASSUME CS:CODE, DS:DATA, ES:DATA, SS:DATA

START:
MOV AX, DATA
MOV DS, AX
MOV ES, AX
MOV SS, AX

MOV DL, N

XOR CX, CX
LEA DI, BINARY
BINMOO:
	CMP DX, 0
	JZ EXITBINMOO
	MOV SI, DX
	AND SI, 1
	ADD SI, OFFSET LOOKUP
	MOVSB
	SHR DX, 1
	INC CX
	JMP BINMOO
EXITBINMOO:
	INT 3

MOV DX, CX
LEA SI, BINARY
XOR AH, AH
LOOP1:
MOV AL, [SI]
PUSH AX
INC SI
LOOP LOOP1

LEA DI, BINARY
MOV CX, DX
LOOP2:
POP AX
MOV [DI], AL
INC DI
LOOP LOOP2

MOV DX, OFFSET BINARY
MOV AH, 09H
INT 21H

MOV AH, 02H
MOV DL, 0AH
INT 21H
MOV DL, 0DH
INT 21H

MOV DL, N

LEA DI, HEX
HEXMOO:
	CMP DX, 0
	JZ EXITHEXMOO
	MOV SI, DX
	AND SI, 15
	ADD SI, OFFSET LOOKUP
	MOVSB
	SHR DX, 4
	INC CX
	JMP HEXMOO
EXITHEXMOO:
	INT 3

MOV DX, CX
LEA SI, HEX
XOR AH, AH
LOOP1H:
MOV AL, [SI]
PUSH AX
INC SI
LOOP LOOP1H

LEA DI, HEX
MOV CX, DX
LOOP2H:
POP AX
MOV [DI], AL
INC DI
LOOP LOOP2H

LEA DX, HEX
MOV AH, 09H
INT 21H
MOV AH, 02H
MOV DL, 0AH
INT 21H
MOV DL, 0DH
INT 21H


MOV DL, N
MOV DH, N

SHR DH, 1
XOR DL, DH
XOR DH, DH

LEA DI, GRAY
GRAYMOO:
	CMP DX, 0
	JZ EXITGRAYMOO
	MOV SI, DX
	AND SI, 1
	ADD SI, OFFSET LOOKUP
	MOVSB
	SHR DX, 1
	INC CX
	JMP GRAYMOO
EXITGRAYMOO:
	INT 3

MOV DX, CX
LEA SI, GRAY
XOR AH, AH
LOOP1G:
MOV AL, [SI]
PUSH AX
INC SI
LOOP LOOP1G

LEA DI, GRAY
MOV CX, DX
LOOP2G:
POP AX
MOV [DI], AL
INC DI
LOOP LOOP2G

LEA DX, GRAY
MOV AH, 09H
INT 21H
MOV AH, 02H
MOV DL, 0AH
INT 21H
MOV DL, 0DH
INT 21H

MOV AH, 4CH
INT 21H

CODE ENDS
END START
